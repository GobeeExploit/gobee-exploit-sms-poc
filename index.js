function initFB() {
  var config = {
    apiKey: "AIzaSyAHcDHdt_cWlpu36NpDlsSh0OyLM6IjucM",
    authDomain: "gobee-9ef54.firebaseapp.com",
    databaseURL: "https://gobee-9ef54.firebaseio.com",
    projectId: "gobee-9ef54",
    storageBucket: "gobee-9ef54.appspot.com",
    messagingSenderId: "808595532441"
  };
  console.log("init firebase");
  firebase.initializeApp(config);

    firebase.database().ref('count').on('value', function(count) {
      console.log("count change!");
      $("#fb-count").html(count.val());
    });
};
initFB()

function increaseCount() {
  console.log("calling increaseCount");
  firebase.database().ref().transaction(function(root) {
    console.log(root)
    if (root) {
      console.log("add count")
      root.count = root.count + 1
    } else {
      console.log("fail")
    }
    return root;
  });
};

function gobee_submit() {
  var phone = $("#InputPhone").val()

  if (phone.length != 8) {
    alert("電話唔岩喎");
    return
  }

  $.get("http://54.169.33.162:8088/GobeeBike/other?industryId=3&requestType=50002&phone=" + phone)
  increaseCount()

};
